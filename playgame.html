<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>간단한 숫자 야구</title>
  <style>
  * {margin:0;padding:0}
  .wrap {background: #eee;width:500px;height:150px;margin:30px auto}
  .wrap .box p {text-align: center;padding:20px}
  .wrap .ipbox #ip {height:30px;margin-left:100px;font-size: 1.2em;border:1px solid silver}
  .wrap .ipbox #btn {width:50px;height:32px;background: #fff;border:1px solid silver}
  #result {width:500px;margin:0 auto;padding:10px}
  </style>
</head>
<body>
<!-- input form layout -->

<div class="wrap">
  <div class="box">
    <p><label for="ip">1~9자리 숫자 중 3자리를 입력해주세요. (중복숫자금지)</label></p>
    <div class="ipbox">
      <input type="text" id="ip" name="ip" maxlength="3">
      <input type="button" value="입력" id="btn">
    </div>
  </div>
</div>
<div id="result"></div>

<!-- script -->
<script>
  //div 설정
  var ip = document.getElementById('ip');
  var btn = document.getElementById('btn');
  var result = document.getElementById('result');

  btn.onclick = function () {
    baseball();
    return false;
  }

  //컴퓨터 임의의 수 3개 선택
  var num = [1,2,3,4,5,6,7,8,9];
  var comValue = [];

  for (var i=0;i<3;i++) {
    var random = Math.floor(Math.random()*num.length);
    comValue[i] = num.splice(random,1)[0];
  }
  console.log(comValue);


  function baseball () {

  //사용자 입력 숫자 3개
  var user = ip.value;
  var userValue = user.split('');

  // 초기화
  var strike = 0;
  var ball = 0;
  var nothing = 0;

  // for 함수 1회 사용해서 strike, ball, nothing 설정하기
  for (var i=0;i<3;i++) {
    if (comValue[i] == userValue[i]) {
      strike++;
    } else if (comValue[0] == userValue[i] || comValue[1] == userValue[i] || comValue[2] == userValue[i] ) {
      ball++;
    } else if (comValue[i] == userValue[i] && comValue[0] == userValue[i] || comValue[1] == userValue[i] || comValue[2] == userValue[i]) {
      strike++;
      ball++;
    } else {
      nothing++;
    }
  }

  // div 박스에 결과 알리기
  if (strike == 3 ) {
    result.innerHTML += '3개의 숫자를 모두 맞히셨습니다! 게임 종료<br>';
  }  else if (strike != 0 && ball == 0) {
    result.innerHTML += strike+'스트라이크<br>';
  } else if (strike != 0 && ball != 0 ) {
    result.innerHTML += strike+'스트라이크'+ball+'볼<br>';
  } else if (strike == 0 && ball != 0 ) {
    result.innerHTML += ball+'볼<br>';
  } else {
    result.innerHTML += 'Nothing. 다시 시도해보세요!<br>';
  }
} //end
</script>
</body>
</html>
